<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <title>Main - Expense Tracker</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>
  <style>
    .footer {
      position: relative;
      padding: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      background-color: rgb(70, 55, 242);
      color: #ffffff;
    }

    .footer-left {
      flex: 1;
      margin-left: 1%;
    }

    .footer-left h4 {
      margin-top: 0;
    }

    .footer-right {
      margin-right: 3%;
      flex-direction: column;
      display: flex;
      align-items: center;
    }

    .footer-right a {
      margin-left: 10px;
      text-decoration: none;
      color: inherit;
      opacity: 0.8;
    }

    .footer-bottom {
      flex-basis: 100%;
      text-align: center;
      margin-top: 20px;
    }

    .instagram-logo,
    .facebook-logo,
    .github-logo,
    .linkedin-logo {
      width: 30px;
      /* Adjust the width as per your preference */
      height: auto;
      /* Automatically adjust height based on width */
    }

    .divider {
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 2px;
      background-color: #000;
    }

    table{
      width: 100%;
      border-collapse: collapse;
    }

    th,td{
      border: 1px solid rgb(139, 132, 122);
      padding: 8px;
    }
    th{
      background-color: rgb(97, 163, 217);
    }
    tfoot td{
      font-weight: bold;
    }
    .delete-btn{
    padding: 5px 10px;
    background-color: rgb(70, 55, 242);
    color:white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}
    
  </style>
</head>

<body>
  <nav class="navbar navbar-expand-sm navbar-dark"
    style="width: auto; position: relative; background-color: rgb(70, 55, 242);">
    <div class="container-fluid">
      <span class="navbar-brand mx-3" style="font-family: 'Salsa';font-size: 30px;" href="#">Expense
        Tracker</span>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active mx-3" aria-current="page" type="submit"
            style="font-family: 'Salsa';" href="/">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link mx-3" aria-current="page" type="submit"
            style="font-family: 'Salsa'; margin-right: 20px;" href="/success">Get
              started</a>
          </li>
          <li class="nav-item dropdown mx-3">
            <a class="nav-link active dropdown-toggle"
            style="font-family: 'Salsa';  margin-right: 60px;" href="#"
              role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Contact us
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item " target="_blank"
                  style="font-family:Helvetica Neue, Helvetica, Arial, sans-serif;"
                  href="mailto:pushpakpallobstudy@gmail.com">Email</a></li>
              <li class="dropdown-divider"></li>
              <li><a class="dropdown-item" target="_blank"
                  style="font-family:Helvetica Neue, Helvetica, Arial, sans-serif;"
                  href="www.linkedin.com/in/pushpak-pallob">Linkedin</a></li>
              <li class="dropdown-divider"></li>
              <li><a class="dropdown-item" target="_blank"
                  style="font-family:Helvetica Neue, Helvetica, Arial, sans-serif;"
                  href="https://www.instagram.com/pushpak___03/">Instagram</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container my-4">
    <h2 style="font-family: 'Salsa'; color: rgb(29, 18, 155);">Welcome to Expense
      Tracker!! </h2>
    <p2 style="font-family: 'Salsa';">write down your financial expenses and be
      a good financial planner overtime...</p2>
    
      <div class=" mb-1 && my-3">
        <label for="category-select" class="form-label"
        style="font-family: 'Salsa';">Purpose</label>
        <input required type="text" class="form-control" placeholder="e.g. Transportation cost" autofocus="autofocus" id="category-select">
      </div>
      <div class=" mb-1 && my-2">
        <label for="amount-input" class="form-label" style="font-family: 'Salsa';">Amount
          Spent</label>
        <input required type="number" class="form-control" placeholder="e.g. INR100" id="amount-input">
      </div>
      <div class=" mb-5 && my-2">
        <label for="date-input" class="form-label" style="font-family: 'Salsa';">Expense Details</label>
        <input required type="text" class="form-control" placeholder="e.g. (Date)" id="date-input">
      </div>
      <button class="btn btn-primary" id="add-btn"
      style="font-family: 'Salsa';">Submit</button>
    
  </div>

  <div class="container my-5 && mb-2 expense-list">
    <div id="search_inline" style="display: flex;">
      <h2
        style="font-family: Helvetica Neue, Helvetica, Arial, sans-serif; margin-right: 25px; color: rgb(0,0,0); width: 1000px;">
        List of Expenses</h2>
    </div>
    <table>
      <thead>
        <tr>
          <th>Purpose</th>
          <th>Amount Spent</th>
          <th>Expense Details</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody id="expense-table-body">

      </tbody>
      <tfoot>
        <td>Total:</td>
        <td id="total-amount"></td>
        <td></td>
        <td></td>
      </tfoot>
    </table>
    <!--<div style="overflow-x: auto;">
      <table class="table table-bordered my-3 mb-5" style="table-layout: initial; margin-bottom: 50px;" id="all-expense"
        width="100%">
        <thead class="table-light">
          <tr>
            <th scope="col">SNo</th>
            <th scope="col">Purpose</th>
            <th scope="col">Amount Spent</th>
            <th scope="col">Expense Details</th>
            <th scope="col">Time</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for todo in allTodo %}
          <tr>
            <th scope="row">{{loop.index}}</th>
            <td width="20%" style="overflow-wrap: break-word; overflow-x: auto; max-width: 100px;">{{todo.title}}</td>
            <td width="15%" style="overflow-wrap: break-word; overflow-x: auto; max-width: 80px;">{{todo.desc}}</td>
            <td width="35%" style="overflow-wrap: break-word; overflow-x: auto; max-width: 150px;">{{todo.more_info}}
            </td>
            <td style="max-width: 120px; overflow-x: hidden;">{{todo.date_created}}</td>
            <td><a href="/update/{{todo.sno}}" type="button"
                class="btn btn-outline-info btn-sm mx-1 my-1">Update</button>
                <a href="/delete/{{todo.sno}}" type="button" type="submit" value="Submit"
                  class="btn btn-outline-danger btn-sm mx-1 my-1" style="width: 63px;">Delete</button>
            </td>
          </tr>
          {% endfor %}
          {% endif %}
        </tbody>
      </table>
    </div>-->


  </div>

  <!-- Bootstrap JS and jQuery (for form validation) -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

  <!-- Your custom JavaScript file -->
  <script src="../script.js"></script>

  </div>

  <footer class="footer footer-expand-sm"
    style="width: auto; position: relative; margin-top: 100px; --bs-footer-padding-y: 0.6rem">
    <div class="footer-left" style="font-family: Verdana, Geneva, Tahoma, sans-serif;">
      <h4 style="font-family: 'Salsa';">Pushpak Pallob</h4>
      <p style="font-family: 'Salsa';">3rd year Student<br>Information Technology, BTech<br>Techno International, New Town</p>
      <p style="font-family: 'Salsa';">West Bengal, India</p>
    </div>
    <div class="footer-right">
      <a href="https://www.instagram.com/pushpak___03/" target="_blank" style="font-family: 'Salsa';"><i class="fa-brands fa-instagram"></i>Instagram</a>
      <a href="https://www.facebook.com/pushpak.pallob" target="_blank" style="font-family: 'Salsa';"><i class="fa-brands fa-facebook"></i>Facebook</a>
      <a href="www.linkedin.com/in/pushpak-pallob" target="_blank" style="font-family: 'Salsa';"><i class="fa-brands fa-linkedin"></i>LinedIn</a>
      <a href="https://github.com/pushpak-3002" target="_blank" style="font-family: 'Salsa';"><i class="fa-brands fa-github"></i>Github</a>
    </div>
    <hr class="footer-divider" style="height: 2px; color: #ffffff;">
    <div class="footer-bottom">
      <p>&copy; 2024 Pushpak. All rights reserved.</p>
    </div>
  </footer>

  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <script>
    let expenses =[];
let totalAmount = 0;

const categorySelect = document.getElementById('category-select')
const amountInput = document.getElementById('amount-input')
const dateInput = document.getElementById('date-input')
const addBtn = document.getElementById('add-btn')
const expenseTableBody = document.getElementById('expense-table-body')
const totalAmountCell = document.getElementById('total-amount')

addBtn.addEventListener('click', function(){
    const category = categorySelect.value;
    const amount = Number(amountInput.value);
    const date= dateInput.value;

    if(category === ''){
        alert('please select a category');
        return;
    }
    if(isNaN(amount) || amount <= 0){
        alert('please enter a valid amount');
        return;
    }
    if(date ===''){
        alert('please select a date');
        return;
    }
    expenses.push({category,amount,date})

    totalAmount += amount;
    totalAmountCell.textContent=totalAmount;

    const newRow = expenseTableBody.insertRow();

    const categoryCell = newRow.insertCell();
    const AmountCell = newRow.insertCell();
    const dateCell = newRow.insertCell();
    const deleteCell = newRow.insertCell();

    const deleteBtn = document.createElement('button');

    deleteBtn.textContent = 'Delete';
    deleteBtn.classList.add('delete-btn');
    deleteBtn.addEventListener('click', function(){
        expenses.splice(expenses.indexOf(expense),1);

        totalAmount -= expense.amount;
        totalAmountCell.textContent = totalAmount;

        expenseTableBody.removeChild(newRow);
    })
    const expense= expenses[expenses.length - 1];
    categoryCell.textContent=expense.category;
    AmountCell.textContent=expense.amount;
    dateCell.textContent=expense.date;
    deleteCell.appendChild(deleteBtn);

});
for(const exepense of expenses){
    totalAmount += amount;
    totalAmountCell.textContent=totalAmount;

    const newRow = expenseTableBody.insertRow();

    const categoryCell = newRow.insertCell();
    const AmountCell = newRow.insertCell();
    const dateCell = newRow.insertCell();
    const deleteCell = newRow.insertCell();

    const deleteBtn = document.createElement('button');

    deleteBtn.textContent = 'Delete';
    deleteBtn.classList.add('delete-btn');
    deleteBtn.addEventListener('click', function(){
        expenses.splioce(expenses.indexOf(expense),1);

        totalAmount -= expense.amount;
        totalAmountCell.textContent = totalAmount;

        expenseTableBody.removeChild(newRow);
    })
    const expense= expenses[expenses.length - 1];
    categoryCell.textContent=expense.category;
    AmountCell.textContent=expense.amount;
    dateCell.textContent=expense.date;
    deleteCell.appendChild(deleteBtn);
}
  </script>


</body>

</html>